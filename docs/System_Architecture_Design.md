# Universal HamRadio Remote (UHRR) 系统架构设计文档

## 文档信息
- **版本**: v2.0.0 (2025-09-29)
- **作者**: System Architecture Team
- **状态**: 生产就绪
- **分类**: 机密/内部

---

## 1. 系统概述

### 1.1 系统定位
Universal HamRadio Remote (UHRR) 是一个面向业余无线电爱好者的远程电台控制与音频流系统。通过现代Web技术实现远程操作，允许用户通过浏览器界面远程控制电台设备，进行语音通话和参数调节。

### 1.2 核心价值
- **远程操作**: 突破地理限制，实现远程电台控制
- **实时通信**: 提供低延迟、高可靠的音频双向传输
- **易用性**: 基于Web标准，无需安装专用软件
- **安全性**: 支持TLS加密和用户认证
- **扩展性**: 模块化设计，支持多种电台设备

### 1.3 系统范围
- 支持主流业余电台设备（通过Hamlib rigctld）
- Web浏览器端操作界面
- 实时音频编解码与传输
- TLS安全传输
- 用户认证与会话管理
- 频谱显示与监控

---

## 2. 需求分析

### 2.1 业务需求分析

#### 2.1.1 业务背景
业余无线电爱好者在城市环境中面临QRM干扰、空间限制等问题，需要远程操作解决方案。同时，COVID-19疫情等因素增加了对远程通信工具的需求。

#### 2.1.2 目标用户
- 业余无线电爱好者（Ham Radio Operators）
- 无线电俱乐部和组织
- 远程操作需求的用户
- 教育和培训机构

#### 2.1.3 核心业务场景
1. **远程语音通话**: 用户通过浏览器进行远程QSO
2. **电台参数控制**: 远程调节频率、模式、功率等参数
3. **频谱监控**: 实时查看电台频谱和信号强度
4. **多点操作**: 支持多个客户端同时监控/控制

### 2.2 功能性需求规格

#### 2.2.1 电台控制功能
- **频率控制**: 设置和读取电台工作频率（支持VFO A/B）
- **模式控制**: USB/LSB/CW/AM/FM等模式切换
- **功率控制**: 读取和设置发射功率
- **PTT控制**: 推到讲（PTT）按钮控制
- **S表读取**: 信号强度指示

#### 2.2.2 音频流功能
- **TX音频**: 麦克风输入→Opus编码→WebSocket传输→后端解码→电台输出
- **RX音频**: 电台输入→后端采集→WebSocket传输→前端解码→扬声器输出
- **音频质量**: 24kHz采样率，支持单声道/立体声
- **实时性**: TX/RX延迟<100ms

#### 2.2.3 用户界面功能
- **Web界面**: 基于HTML5的响应式界面
- **实时显示**: 频谱瀑布图、FFT显示、S表
- **控制面板**: 频率调节、模式选择、音量控制
- **状态指示**: 连接状态、PTT状态、音频电平

#### 2.2.4 系统管理功能
- **用户认证**: 可选的用户名/密码认证
- **会话管理**: 自动超时和清理
- **配置管理**: Web界面配置系统参数
- **日志记录**: 操作和错误日志

### 2.3 非功能性需求规格

#### 2.3.1 性能需求
- **响应时间**:
  - PTT操作响应时间 < 50ms
  - 音频端到端延迟 < 100ms
  - 界面更新频率 > 20fps
- **并发能力**: 支持多个客户端同时连接
- **资源占用**:
  - CPU使用率 < 30% (单客户端)
  - 内存占用 < 100MB
  - 网络带宽 < 100kbps (控制) + 音频带宽

#### 2.3.2 可靠性需求
- **可用性**: 99.5% (年化)
- **故障恢复**: 自动重连机制
- **数据一致性**: 控制命令幂等性
- **错误处理**: 优雅降级和错误恢复

#### 2.3.3 安全性需求
- **传输安全**: TLS 1.2+ 加密传输
- **认证机制**: 支持证书和密码认证
- **访问控制**: 基于角色的访问控制
- **审计日志**: 安全事件记录

#### 2.3.4 可扩展性需求
- **模块化设计**: 松耦合组件架构
- **协议扩展**: 支持新电台设备
- **界面扩展**: 支持自定义界面主题
- **部署扩展**: 支持多实例部署

#### 2.3.5 兼容性需求
- **浏览器支持**: Chrome 60+, Firefox 55+, Safari 11+, Edge 79+
- **操作系统**: Linux, macOS, Windows
- **移动设备**: iOS Safari, Android Chrome
- **电台设备**: 兼容Hamlib支持的所有设备

#### 2.3.6 可维护性需求
- **代码质量**: 遵循最佳实践，代码覆盖率>80%
- **文档完整**: API文档、部署文档、用户手册
- **测试覆盖**: 单元测试、集成测试、端到端测试
- **部署便利**: Docker容器化，支持一键部署

---

## 3. 系统架构设计

### 3.1 系统架构图

```
                              ┌─────────────────────────────────────┐
                              │         Web浏览器客户端             │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │   UI层      │  │  音频处理   │   │
                              │  │             │  │             │   │
                              │  │ • 控制面板  │  │ • Opus编码  │   │
                              │  │ • 频谱显示  │  │ • 实时传输  │   │
                              │  │ • 状态指示  │  │ • 缓冲管理  │   │
                              │  └─────────────┘  └─────────────┘   │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │WebSocket客户端 | AudioWorklet│   │
                              │  │             │  │   播放器    │   │
                              │  │ • 控制通道  │  │ • 低抖动    │   │
                              │  │ • 音频TX    │  │ • 区间缓冲  │   │
                              │  │ • 音频RX    │  │ • 防爆音    │   │
                              │  └─────────────┘  └─────────────┘   │
                              └─────────────────┬───────────────────┘
                                                │
                              ┌─────────────────┼───────────────────┐
                              │                 ▼                   │
                              │         HTTP/HTTPS + WebSocket      │
                              │              (TLS 1.2+)             │
                              │                                     │
                              └─────────────────┼───────────────────┘
                                                │
                              ┌─────────────────┼───────────────────┐
                              │                 ▼                   │
                              │       服务器端 (Tornado)            │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │  Web层      │  │  业务逻辑   │   │
                              │  │             │  │             │   │
                              │  │ • 静态文件  │  │ • WebSocket │   │
                              │  │ • 配置界面  │  │ • 路由分发  │   │
                              │  │ • 认证管理  │  │ • 会话管理  │   │
                              │  └─────────────┘  └─────────────┘   │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │ 音频服务    │  │  设备控制   │   │
                              │  │             │  │             │   │
                              │  │ • PyAudio   │  │ • rigctld   │   │
                              │  │ • Opus解码  │  │ • Hamlib    │   │
                              │  │ • 实时采集  │  │ • PTT控制   │   │
                              │  └─────────────┘  └─────────────┘   │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │  安全层     │  │  数据存储   │   │
                              │  │             │  │             │   │
                              │  │ • SSLContext│  │ • 证书文件  │   │
                              │  │ • 证书链    │  │ • 配置数据库│   │
                              │  │ • 访问控制  │  │ • 日志文件  │   │
                              │  └─────────────┘  └─────────────┘   │
                              └─────────────────┼───────────────────┘
                                                │
                              ┌─────────────────┼───────────────────┐
                              │                 ▼                   │
                              │           外部系统与设备            │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │   电台设备  │  │  音频设备   │   │
                              │  │             │  │             │   │
                              │  │• 频率控制   │  │ • 麦克风    │   │
                              │  │• 模式切换   │  │ • 扬声器    │   │
                              │  │• PTT操作    │  │ • 声卡接口  │   │
                              │  │• S表读取    │  │ • 实时采集  │   │
                              │  └─────────────┘  └─────────────┘   │
                              │                                     │
                              │  ┌─────────────┐  ┌─────────────┐   │
                              │  │  rigctld    │  │  文件系统   │   │
                              │  │             │  │             │   │
                              │  │ • 设备抽象  │  │ • 证书存储  │   │
                              │  │ • 命令协议  │  │ • 配置管理  │   │
                              │  │ • TCP服务   │  │ • 日志记录  │   │
                              │  └─────────────┘  └─────────────┘   │
                              └─────────────────────────────────────┘
```

### 3.2 数据流图

```
音频TX流:
麦克风 → Web Audio API → Opus编码 → WebSocket(TX) → 服务器解码 → PyAudio → 电台

音频RX流:
电台 → PyAudio采集 → WebSocket(RX) → 浏览器解码 → AudioWorklet → 扬声器

控制流:
用户操作 → WebSocket(控制) → 服务器 → rigctld → 电台设备

频谱流:
电台 → rigctld → 服务器 → WebSocket(频谱) → 浏览器FFT显示
```

### 3.3 部署架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                    单机部署架构                                 │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐          │
│  │  Web浏览器  │◄──►│ UHRR服务器  │◄──►│  rigctld    │          │
│  │  (多客户端  │    │ (Tornado)   │    │  (Hamlib)   │          │
│  └─────────────┘    └─────────────┘    └─────────────┘          │
│                                │              │                 │
│                                ▼              ▼                 │
│                       ┌─────────────┐    ┌─────────────┐        │
│                       │  音频设备   │    │   电台设备  │        │
│                       │  (麦克风/   │    │   (串口/    │        │
│                       │   扬声器)   │    │    USB)     │        │
│                       └─────────────┘    └─────────────┘        │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                   容器化部署架构                                │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐          │
│  │   Nginx     │◄──►│ Docker容器  │◄──►│ rigctld容器 │          │
│  │  (反向代理) │    │  (UHRR)     │    │  (可选)     │          │
│  └─────────────┘    └─────────────┘    └─────────────┘          │
│                           │                    │                │
│                           ▼                    ▼                │
│                       ┌─────────────┐    ┌─────────────┐        │
│                       │  主机音频   │    │   主机电台  │        │
│                       │  设备映射   │    │   设备映射  │        │
│                       └─────────────┘    └─────────────┘        │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 架构设计原则

#### 3.2.1 分层架构
- **表示层**: Web浏览器界面，负责用户交互和数据展示
- **应用层**: Tornado WebSocket服务器，处理业务逻辑
- **服务层**: 音频处理、设备控制等核心服务
- **数据访问层**: 电台设备接口、文件系统访问

#### 3.2.2 组件化设计
- **高内聚**: 每个组件职责单一，内部逻辑完整
- **低耦合**: 组件间通过标准接口通信，易于替换和测试
- **可扩展**: 支持动态加载和配置驱动的组件扩展

#### 3.2.3 异步事件驱动
- **事件驱动**: 基于Tornado异步框架，支持高并发
- **非阻塞I/O**: 音频处理和网络通信采用异步模式
- **响应式设计**: 界面实时响应状态变化

---

## 4. 组件设计

### 4.1 前端组件

#### 4.1.1 UI组件 (`www/`)
- **职责**: 提供用户界面和交互逻辑
- **技术栈**: HTML5, CSS3, Vanilla JavaScript
- **关键文件**:
  - `index.html`: 主界面布局
  - `controls.js`: 核心控制逻辑和音频处理
  - `tx_button_optimized.js`: PTT按钮优化逻辑
  - `rx_worklet_processor.js`: AudioWorklet音频播放器

#### 4.1.2 音频处理组件
- **OpusEncoderProcessor**: TX音频编码
  - 采样率: 24kHz
  - 编码格式: Opus (60ms帧)
  - 增益控制: 1:1输入增益，支持软限幅
- **RxPlayerProcessor**: RX音频解码播放
  - 播放技术: AudioWorkletNode
  - 缓冲管理: 32/64帧区间控制
  - 抖动抑制: 过深截尾、过浅补零

#### 4.1.3 WebSocket客户端
- **连接管理**: 自动重连和状态监控
- **消息路由**: 控制、音频TX、音频RX、频谱数据分离处理
- **错误处理**: 连接丢失时的优雅降级

### 4.2 后端组件

#### 4.2.1 Web服务器 (`UHRR`)
- **框架**: Tornado Web Framework
- **并发模型**: 异步I/O，支持数千并发连接
- **路由配置**: 静态文件、WebSocket、配置接口
- **安全**: SSLContext证书链加载

#### 4.2.2 音频处理引擎 (`audio_interface.py`)
- **采集模块**: PyAudioCapture (输入设备抽象)
- **播放模块**: PyAudioPlayback (输出设备抽象)
- **缓冲管理**: 环形缓冲，防止内存泄露
- **设备枚举**: 支持多音频设备选择

#### 4.2.3 电台控制接口 (`hamlib_wrapper.py`)
- **协议**: Hamlib rigctld TCP协议
- **命令封装**: 频率、模式、PTT等操作
- **错误处理**: 连接丢失自动重试
- **状态同步**: 实时状态更新和广播

### 4.3 外部系统集成

#### 4.3.1 rigctld (Hamlib)
- **接口**: TCP 4532端口
- **命令格式**: 标准Hamlib命令集
- **设备支持**: 300+种业余电台设备

#### 4.3.2 音频设备
- **输入设备**: 麦克风、线路输入
- **输出设备**: 扬声器、线路输出
- **采样率**: 24kHz (匹配前端)

#### 4.3.3 文件系统
- **证书存储**: `certs/`目录
- **配置存储**: `UHRR.conf`
- **日志存储**: `logs/`目录

---

## 5. 接口与协议定义

### 5.1 WebSocket消息协议

#### 5.1.1 控制通道 (WSCTRX)
```
消息格式: <action>:<data>

发送到服务器:
- setFreq:<frequency>     # 设置频率
- setMode:<mode>          # 设置模式 (USB/LSB/CW/AM/FM)
- setPTT:<state>          # PTT控制 (true/false)
- getFreq                 # 查询频率
- getMode                 # 查询模式
- PING                    # 心跳

服务器响应:
- getFreq:<frequency>     # 频率查询响应
- getMode:<mode>          # 模式查询响应
- getPTT:<state>          # PTT状态
- getSignalLevel:<level>  # S表值
- PONG                    # 心跳响应
```

#### 5.1.2 音频TX通道 (WSaudioTX)
```
消息格式: <type>:<data>

客户端到服务器:
- m:<rate,encode,op_rate,frame_dur>  # TX初始化参数
- s:                                 # 停止TX
- <binary_audio_data>               # Opus编码音频数据

服务器处理:
- 解码并输出到电台音频设备
- PTT超时保护（0.5s无音频自动熄灭）
```

#### 5.1.3 音频RX通道 (WSaudioRX)
```
服务器到客户端:
- <binary_audio_data>    # Float32 PCM音频数据

客户端处理:
- 接收并缓存到AudioBuffer
- AudioWorklet实时播放
- 缓冲深度控制和抖动抑制
```

#### 5.1.4 频谱通道 (WSpanFFT)
```
服务器到客户端:
- <binary_fft_data>      # FFT频谱数据

客户端处理:
- 渲染瀑布图和FFT显示
- 实时更新频谱可视化
```

### 5.2 音频数据格式

#### 5.2.1 TX音频格式
- **采样率**: 24kHz
- **格式**: Float32 PCM (-1.0 to 1.0)
- **声道**: 单声道
- **传输**: WebSocket二进制传输

#### 5.2.2 RX音频格式
- **采样率**: 24kHz (浏览器原生)
- **格式**: Float32 PCM
- **缓冲**: AudioWorklet内部缓冲管理

#### 5.2.3 Opus编码参数
- **采样率**: 24kHz
- **帧长度**: 60ms (可选20ms低延迟)
- **码率**: 自适应VBR
- **声道**: 单声道

### 5.3 控制命令格式

#### 5.3.1 rigctld命令
```
标准Hamlib命令:
F <frequency>           # 设置频率
f                       # 查询频率
M <mode> <passband>     # 设置模式
m                       # 查询模式
T 1/0                   # PTT控制
l                       # 查询信号强度
```

---

## 6. 部署架构

### 6.1 单机部署架构
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Web浏览器     │◄──►│  UHRR服务器     │◄──►│   rigctld       │
│                 │    │   (Tornado)     │    │   (Hamlib)      │
│ - HTML5界面     │    │ - WebSocket     │    │ - 设备抽象      │
│ - 音频编解码    │    │ - 音频处理      │    │ - 命令协议      │
│ - 实时显示      │    │ - TLS安全       │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │                       │
                                ▼                       ▼
                       ┌─────────────────┐    ┌─────────────────┐
                       │   音频设备      │    │   电台设备      │
                       │   (麦克风/      │    │   (串口/        │
                       │    扬声器)      │    │    USB)         │
                       └─────────────────┘    └─────────────────┘
```

### 6.2 容器化部署
- **Docker镜像**: 包含所有依赖
- **环境变量**: 端口、设备路径等配置
- **持久化**: 证书、配置、日志目录挂载

### 6.3 高可用部署
- **多实例**: 负载均衡器分发WebSocket连接
- **状态同步**: Redis集群同步会话状态
- **故障转移**: 自动检测和切换

---

## 7. 安全性设计

### 7.1 传输安全
- **TLS版本**: TLS 1.2+ (强制)
- **证书类型**: X.509服务器证书
- **证书链**: 服务器证书 + 中间证书 (不包含根证书)
- **私钥保护**: 600权限，仅root可读

### 7.2 认证与授权
- **用户认证**: 可选用户名/密码认证
- **会话管理**: 基于Cookie的会话跟踪
- **访问控制**: 基于角色的权限控制
- **审计日志**: 认证和操作日志记录

### 7.3 输入验证
- **命令验证**: 所有控制命令参数验证
- **音频数据**: 长度和格式检查
- **XSS防护**: 内容转义和CSP策略

---

## 8. 性能优化策略

### 8.1 实时性优化
- **音频延迟**: <100ms端到端延迟
- **控制响应**: PTT <50ms响应时间
- **缓冲策略**: 音频缓冲区间控制，防止抖动

### 8.2 资源优化
- **内存管理**: 音频缓冲自动清理，防止内存泄露
- **CPU优化**: 异步处理，减少阻塞操作
- **网络优化**: WebSocket压缩，批量数据传输

### 8.3 扩展性优化
- **组件解耦**: 模块化设计，支持动态扩展
- **配置驱动**: 参数可通过配置文件调整
- **监控指标**: 性能指标收集和告警

---

## 9. 质量属性分析

### 9.1 可靠性分析
- **故障模式**: 单点故障、网络中断、设备故障
- **恢复机制**: 自动重连、优雅降级、状态同步
- **冗余设计**: 多客户端支持，单点故障不影响其他用户

### 9.2 性能分析
- **负载测试**: 支持多客户端并发
- **压力测试**: 音频流持续时间和并发数
- **基准测试**: 延迟、吞吐量、资源占用基准

### 9.3 安全性分析
- **威胁建模**: 识别潜在攻击向量
- **安全测试**: 渗透测试和漏洞扫描
- **合规性**: 符合相关安全标准

---

## 10. 技术选型 Rationale

### 10.1 前端技术栈
- **HTML5/CSS3/JavaScript**: 跨平台兼容，Web标准
- **Web Audio API**: 低延迟音频处理
- **AudioWorklet**: 音频线程处理，避免主线程抖动
- **WebSocket**: 全双工实时通信

### 10.2 后端技术栈
- **Tornado**: 高性能异步Web框架
- **PyAudio**: 跨平台音频处理
- **Hamlib**: 标准业余电台控制库
- **SSLContext**: 标准TLS实现

### 10.3 部署技术栈
- **Docker**: 容器化部署
- **Linux**: 服务器操作系统
- **Nginx**: 反向代理和负载均衡

---

## 11. 风险分析与缓解

### 11.1 技术风险
- **浏览器兼容性**: 缓解: 渐进增强，提供降级方案
- **音频延迟**: 缓解: 优化缓冲策略，使用AudioWorklet
- **电台兼容性**: 缓解: 基于标准Hamlib，支持设备扩展

### 11.2 性能风险
- **高并发**: 缓解: 异步架构，资源池化
- **内存泄露**: 缓解: 自动缓冲清理，监控告警
- **网络抖动**: 缓解: 缓冲区间控制，计数超时机制

### 11.3 安全风险
- **证书配置错误**: 缓解: 自动化验证脚本
- **未授权访问**: 缓解: 认证和授权机制
- **数据泄露**: 缓解: TLS加密，日志脱敏

---

## 12. 维护与监控

### 12.1 监控指标
- **系统指标**: CPU、内存、网络I/O
- **业务指标**: 连接数、音频流状态、PTT成功率
- **错误指标**: 异常率、超时率、失败率

### 12.2 日志管理
- **日志级别**: DEBUG, INFO, WARN, ERROR
- **日志轮转**: 按大小和时间轮转
- **日志分析**: 结构化日志，便于分析

### 12.3 部署与运维
- **健康检查**: 定期检查服务状态
- **备份策略**: 配置文件和证书备份
- **升级策略**: 滚动升级，零停机时间

---

## 13. 未来演进路线图

### 13.1 短期优化 (1-3个月)
- 完善移动端适配
- 增加音频质量设置选项
- 优化WebRTC音频传输

### 13.2 中期扩展 (3-6个月)
- 支持多电台设备
- 增加CW模式支持
- 实现集群部署

### 13.3 长期愿景 (6个月+)
- 集成SDR设备支持
- 实现分布式音频处理
- 开发移动应用

---

## 14. 许可证与合规声明

### 14.1 许可证信息

本项目采用 **GNU General Public License v3.0 (GPL-3.0)** 许可证发布。

```
Universal HamRadio Remote (UHRR) - 业余无线电远程控制系统
Copyright (C) 2025 Universal HamRadio Remote Contributors

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.
```

### 14.2 项目来源声明

本项目基于以下开源项目进行开发和改进：

**原始项目**: [F4HTB/Universal_HamRadio_Remote_HTML5](https://github.com/F4HTB/Universal_HamRadio_Remote_HTML5)
- 作者: Olivier Schmitt (F4HTB)
- 许可证: GPL-3.0
- 描述: 原始的HTML5业余无线电远程控制界面

**主要改进**:
- 稳定性优化: 修复PTT时序问题，改进音频流处理
- 架构升级: 引入AudioWorklet，优化WebSocket通信
- 功能增强: 添加实时码率显示，改进TLS配置
- 平台适配: 优化macOS兼容性，改进移动端支持

### 14.3 合规要求

根据GPL-3.0许可证要求：

#### 14.3.1 修改声明
本项目对原始代码进行了以下主要修改：
- 重构前端音频处理逻辑（引入AudioWorklet）
- 优化后端PTT超时机制（计数法替代时间阈值）
- 改进TLS证书链处理
- 添加实时性能监控功能

#### 14.3.2 分发要求
- **源代码**: 必须提供完整源代码
- **修改标识**: 必须明确标识修改内容
- **许可证**: 必须包含GPL-3.0许可证文本
- **版权声明**: 必须保留原始版权声明

#### 14.3.3 使用限制
- **业余无线电**: 仅限业余无线电用途，遵守当地法律法规
- **远程操作**: 仅用于合法的远程电台操作
- **商业使用**: 遵循GPL-3.0的商业使用条款

### 14.4 免责声明

**重要法律声明**:
- 本软件仅供业余无线电爱好者学习和实验使用
- 使用者必须确保遵守所在国家/地区的无线电管理法规
- 作者不对任何违法使用承担责任
- 建议在合法的业余无线电频率范围内使用

**技术免责**:
- 本软件按"现状"提供，不提供任何明示或暗示的保证
- 使用过程中可能存在技术风险，使用者需自行承担
- 建议在测试环境中验证功能后再用于实际操作

### 14.5 贡献指南

欢迎社区贡献，但请注意：
- 所有贡献必须遵循GPL-3.0许可证
- 贡献代码必须包含适当的版权声明
- 重大修改应更新版本历史和修改日志
- 建议通过GitHub提交Pull Request

---

## 15. 术语表

### 15.1 无线电术语
- **PTT**: Push-To-Talk，推到讲
- **QSO**: 业余无线电通话
- **VFO**: Variable Frequency Oscillator，可变频振荡器
- **S表**: Signal Strength，信号强度指示
- **Hamlib**: 业余无线电设备控制库
- **rigctld**: Hamlib的TCP服务器

### 15.2 技术术语
- **WebSocket**: 全双工通信协议
- **AudioWorklet**: Web Audio API的音频工作线程
- **Opus**: 音频编解码器
- **TLS**: Transport Layer Security，传输层安全
- **Tornado**: Python异步Web框架

---

## 16. 参考文献

### 16.1 技术文档
- **Hamlib Documentation**: https://hamlib.github.io/
- **Web Audio API Specification**: https://webaudio.github.io/web-audio-api/
- **Tornado Documentation**: https://www.tornadoweb.org/
- **RFC 6455**: WebSocket Protocol
- **RFC 5246**: TLS 1.2 Protocol

### 16.2 开源项目
- **上游项目**: [F4HTB/Universal_HamRadio_Remote_HTML5](https://github.com/F4HTB/Universal_HamRadio_Remote_HTML5)
- **Opus Codec**: https://opus-codec.org/
- **PyAudio**: https://people.csail.mit.edu/hubert/pyaudio/

---

## 17. 版本历史

| 版本 | 日期 | 主要变更 | 状态 |
|------|------|----------|------|
| v1.0.0 | 2024-12 | 初始版本，基于F4HTB项目 | 已发布 |
| v2.0.0 | 2025-01 | 稳定性优化，TLS支持，AudioWorklet | 生产就绪 |
| v2.1.0 | 2025-09 | 架构文档完善，许可证合规 | 当前版本 |

---

**文档结束**

*本架构设计文档遵循GPL-3.0许可证发布，详见LICENSE文件。*
